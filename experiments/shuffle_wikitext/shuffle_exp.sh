#!/bin/bash

export CUDA_VISIBLE_DEVICES=0

/home/olab/adi/miniconda3/envs/npe/bin/python /home/olab/adi/git/npe/fairseq_cli/validate_lm.py  --task language_modeling /home/olab/adi/git/npe/data-bin/wikitext-103 --sample-break-mode none --skip-invalid-size-inputs-valid-test --ddp-backend=legacy_ddp --keep-best-checkpoints 5 --max-update 386000 --required-batch-size-multiple 1 --lr 1.0 --t-mult 2 --lr-period-updates 270000 --lr-scheduler cosine --lr-shrink 0.75 --warmup-updates 16000 --warmup-init-lr 1e-07 --stop-min-lr 1e-09 --optimizer nag --min-lr 0.0001 --clip-norm 0.1 --criterion adaptive_loss_shuffle --update-freq 1 --max-tokens 9216 --fp16 --arch transformer_lm_wiki103 --no-token-positional-embeddings --seed 1 --tokens-per-sample 512 --validate-interval-updates 1 --save-dir /home/olab/adi/experiments/npe/lm-baevski-wiki103-512/lm-baevski-wiki103-512-no-token-positional-embeddings --reset-optimizer --sentence-avg --shuffle-idx 498 --no-shuffle > /home/olab/adi/experiments/npe/shuffle_expriments/498_no_shuffle.txt
/home/olab/adi/miniconda3/envs/npe/bin/python /home/olab/adi/git/npe/fairseq_cli/validate_lm.py  --task language_modeling /home/olab/adi/git/npe/data-bin/wikitext-103 --sample-break-mode none --skip-invalid-size-inputs-valid-test --ddp-backend=legacy_ddp --keep-best-checkpoints 5 --max-update 386000 --required-batch-size-multiple 1 --lr 1.0 --t-mult 2 --lr-period-updates 270000 --lr-scheduler cosine --lr-shrink 0.75 --warmup-updates 16000 --warmup-init-lr 1e-07 --stop-min-lr 1e-09 --optimizer nag --min-lr 0.0001 --clip-norm 0.1 --criterion adaptive_loss_shuffle --update-freq 1 --max-tokens 9216 --fp16 --arch transformer_lm_wiki103 --no-token-positional-embeddings --seed 1 --tokens-per-sample 512 --validate-interval-updates 1 --save-dir /home/olab/adi/experiments/npe/lm-baevski-wiki103-512/lm-baevski-wiki103-512-no-token-positional-embeddings --reset-optimizer --sentence-avg --shuffle-idx 498  > /home/olab/adi/experiments/npe/shuffle_expriments/498_no_shuffle.txt
echo 0/100

/home/olab/adi/miniconda3/envs/npe/bin/python /home/olab/adi/git/npe/fairseq_cli/validate_lm.py  --task language_modeling /home/olab/adi/git/npe/data-bin/wikitext-103 --sample-break-mode none --skip-invalid-size-inputs-valid-test --ddp-backend=legacy_ddp --keep-best-checkpoints 5 --max-update 386000 --required-batch-size-multiple 1 --lr 1.0 --t-mult 2 --lr-period-updates 270000 --lr-scheduler cosine --lr-shrink 0.75 --warmup-updates 16000 --warmup-init-lr 1e-07 --stop-min-lr 1e-09 --optimizer nag --min-lr 0.0001 --clip-norm 0.1 --criterion adaptive_loss_shuffle --update-freq 1 --max-tokens 9216 --fp16 --arch transformer_lm_wiki103 --no-token-positional-embeddings --seed 1 --tokens-per-sample 512 --validate-interval-updates 1 --save-dir /home/olab/adi/experiments/npe/lm-baevski-wiki103-512/lm-baevski-wiki103-512-no-token-positional-embeddings --reset-optimizer --sentence-avg --shuffle-idx 110 --no-shuffle > /home/olab/adi/experiments/npe/shuffle_expriments/110_no_shuffle.txt
/home/olab/adi/miniconda3/envs/npe/bin/python /home/olab/adi/git/npe/fairseq_cli/validate_lm.py  --task language_modeling /home/olab/adi/git/npe/data-bin/wikitext-103 --sample-break-mode none --skip-invalid-size-inputs-valid-test --ddp-backend=legacy_ddp --keep-best-checkpoints 5 --max-update 386000 --required-batch-size-multiple 1 --lr 1.0 --t-mult 2 --lr-period-updates 270000 --lr-scheduler cosine --lr-shrink 0.75 --warmup-updates 16000 --warmup-init-lr 1e-07 --stop-min-lr 1e-09 --optimizer nag --min-lr 0.0001 --clip-norm 0.1 --criterion adaptive_loss_shuffle --update-freq 1 --max-tokens 9216 --fp16 --arch transformer_lm_wiki103 --no-token-positional-embeddings --seed 1 --tokens-per-sample 512 --validate-interval-updates 1 --save-dir /home/olab/adi/experiments/npe/lm-baevski-wiki103-512/lm-baevski-wiki103-512-no-token-positional-embeddings --reset-optimizer --sentence-avg --shuffle-idx 110  > /home/olab/adi/experiments/npe/shuffle_expriments/110_no_shuffle.txt
echo 1/100
